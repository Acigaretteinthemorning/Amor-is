$(function(){var s=$("#username"),l=$("#email"),o=$("#invite-code"),d=$("#password"),i=!1,n=!1,u=!1,v=!1;s.blur(function(){var r=$(this).val(),e=$(this).next();console.log(e),/^[a-zA-Z]{1}\w{3,15}$/.test(r)?$.ajax({url:"http://127.0.0.1:8848/accrepeat.php",type:"GET",data:"username"+r,success:function(r){i="ok"===r?(e.text("").removeClass("error"),s.removeClass("redBorder"),!0):(e.text("你的号码已经被注册了").addClass("error"),s.removeClass("redBorder"),!1)}}):(e.text("你的号码不合法,请重新输入").addClass("error"),s.addClass("redBorder"),i=!1)}),d.blur(function(){var r=$(this).val(),e=$(this).next();n=/^[a-zA-Z]{1}\w{6,14}$/.test(r)?(e.text("").removeClass("error"),$(this).removeClass("redBorder"),!0):(e.text("你的密码不合法,请重新输入").addClass("error"),$(this).addClass("redBorder"),!1)}),l.blur(function(){var r=$(this).val(),e=$(this).next();u=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(r)?(e.text("").removeClass("error"),$(this).removeClass("redBorder"),!0):(e.text("你的邮箱不合法,请重新输入").addClass("error"),$(this).addClass("redBorder"),!1)}),o.blur(function(){var r=$(this).val(),e=$(this).next();v=""!=r?(e.text("").removeClass("error"),$(this).removeClass("redBorder"),!0):(e.text("请输入").addClass("error"),o.addClass("redBorder"),!1)}),$("#regBtn").click(function(){if(!(i&&n&&u&&v))return s.trigger("blur"),l.trigger("blur"),o.trigger("blur"),d.trigger("blur"),!1;var e=s.val(),r=l.val(),t=o.val(),a=d.val();$.ajax({url:"http://127.0.0.1:8848/reg.php",type:"POST",data:{username:e,pwd:a,email:r,nickname:t},success:function(r){"ok"===r?(alert("恭喜你!"+e),location.href="./login.html"):alert("注册失败,重新输入")}})})});